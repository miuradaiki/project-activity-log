# Project Activity Log

複数プロジェクトの作業時間を記録・分析するデスクトップアプリケーション。

月間の稼働配分を設定し、プロジェクトごとの進捗を可視化。タイマー機能とダッシュボードで日々の作業を効率的に管理できます。

## クイックスタート

```bash
# インストール
git clone https://github.com/daikimiura/project-activity-log.git
cd project-activity-log
npm install

# 起動
npm run electron:dev
```

**動作環境**: Node.js v16以上

## 画面構成

アプリは4つの画面で構成されています。サイドバーまたはキーボードショートカットで切り替えできます。

### タイマー画面 (`Ctrl+3`)

作業時間を記録するメイン画面です。

- **タイマー**: プロジェクトを選択して開始。スリープ中も時間を継続記録し、8時間経過で自動停止
- **手動入力**: 過去の作業時間を日付・時間指定で追加
- **履歴**: タイムラインまたはリスト形式で作業記録を確認・編集・削除

### ダッシュボード画面 (`Ctrl+1`)

作業データを分析・可視化します。

- **日次**: 本日の作業時間と作業プロジェクト
- **週次**: 日別の作業時間推移、プロジェクト別の時間配分
- **月次**: 週別の作業時間推移、月間サマリー
- **アクティビティカレンダー**: GitHubスタイルのヒートマップ

### プロジェクト画面 (`Ctrl+2`)

プロジェクトの作成・管理と進捗確認を行います。

- **稼働率**: 各プロジェクトに月間の工数配分を設定（例: プロジェクトAに40%、Bに60%）
- **進捗管理**: 月間目標時間に対する実績をプログレスバーで表示。90%で警告、100%超過で超過警告
- **フィルタ・ソート**: 状態別の絞り込み、名前・進捗率・残り時間での並べ替え
- **アーカイブ**: 完了したプロジェクトを非表示化

### 設定画面 (`Ctrl+,`)

- **月間基準時間**: 80〜200時間で設定。これに各プロジェクトの稼働率を掛けて月間目標時間を算出
- **外観**: ダークモード切り替え (`Alt+L`)

## キーボードショートカット

| 操作               | ショートカット           |
| ------------------ | ------------------------ |
| ダッシュボード     | `Ctrl+1`                 |
| プロジェクト       | `Ctrl+2`                 |
| タイマー           | `Ctrl+3`                 |
| 設定               | `Ctrl+,`                 |
| 新規プロジェクト   | `Ctrl+N`                 |
| タイマー開始/停止  | `Space` (タイマー画面)   |
| タイマー停止       | `Escape`                 |
| テーマ切替         | `Alt+L`                  |
| ショートカット一覧 | `Ctrl+H` または `Ctrl+/` |

## データ

すべてのデータはローカルに保存されます。外部サーバーへの送信はありません。

```
[userData]/
├── data/
│   ├── projects.json      # プロジェクト情報
│   └── timeEntries.json   # 作業時間記録
├── settings.json          # アプリ設定
└── backups/               # 自動バックアップ
```

**CSVインポート**: 他ツールからの移行に対応。インポート前に自動バックアップを作成し、失敗時は自動復元します。

```csv
date,start_time,end_time,duration_minutes,project_name,project_description,notes
2025/2/3,10:35:42,11:28:19,53,プロジェクト名,説明,メモ
```

## 開発

### コマンド

```bash
npm run electron:dev      # 開発環境起動
npm run electron:build    # 本番ビルド
npm test                  # ユニットテスト
npm run test:e2e          # E2Eテスト (Playwright)
npm run lint              # ESLint
npm run format            # Prettier
```

### 技術スタック

| カテゴリ       | 技術                                |
| -------------- | ----------------------------------- |
| フレームワーク | Electron 29, React 18, TypeScript 5 |
| UI             | Material-UI 5, Framer Motion 12     |
| データ可視化   | Recharts 2                          |
| ビルド         | Vite 5                              |
| テスト         | Jest 30, Playwright                 |

### アーキテクチャ

標準的なElectronアーキテクチャを採用。メインプロセスがファイルI/Oを担当し、レンダラープロセス（React）とはIPC経由で通信します。

詳細は [CLAUDE.md](./CLAUDE.md) を参照してください。

## ライセンス

MIT License
